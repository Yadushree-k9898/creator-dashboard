import{h as v,r as l,w,j as e,e as f,n as k,x as g,y as h,z as y,D as x}from"./index-DlQEnFU4.js";import{T as C}from"./triangle-alert-PsBQDI_u.js";import{M as z,F as S}from"./mail-Di_f7AiE.js";/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],A=v("circle-check-big",P),U=()=>{const[i,n]=l.useState({name:"",email:"",bio:""}),[p,o]=l.useState(!1),[d,c]=l.useState(!1),[b,m]=l.useState(0),j=async()=>{var a,t;try{o(!0);const{data:s}=await g.get("http://localhost:5000/api/users/profile",{headers:{Authorization:`Bearer ${h()}`}});n({name:s.name,email:s.email,bio:s.bio||""}),c(s.profileCompleted),m(s.credits||0),y(s)}catch(s){x.error("Failed to fetch profile: "+(((t=(a=s==null?void 0:s.response)==null?void 0:a.data)==null?void 0:t.message)||"Unknown error"))}finally{o(!1)}};l.useEffect(()=>{const a=w();a?(n({name:a.name,email:a.email,bio:a.bio||""}),c(a.profileCompleted),m(a.credits||0)):j()},[]);const u=a=>{n(t=>({...t,[a.target.name]:a.target.value}))},N=async a=>{var t,s;a.preventDefault();try{o(!0);const{data:r}=await g.put("http://localhost:5000/api/users/profile",i,{headers:{Authorization:`Bearer ${h()}`}});n({name:r.user.name,email:r.user.email,bio:r.user.bio}),c(r.user.profileCompleted),m(r.user.credits),y(r.user),x.success("Profile updated successfully")}catch(r){x.error("Failed to update profile: "+(((s=(t=r==null?void 0:r.response)==null?void 0:t.data)==null?void 0:s.message)||"Unknown error"))}finally{o(!1)}};return e.jsx("div",{className:"max-w-4xl mx-auto animate-fadeIn",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow-lg rounded-xl overflow-hidden transition-all duration-300",children:[e.jsx("div",{className:"bg-gradient-to-r from-primary to-primary/70 p-6 text-white",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-20 h-20 rounded-full bg-white/20 flex items-center justify-center",children:e.jsx(f,{size:40})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:i.name||"Your Profile"}),e.jsx("p",{className:"opacity-80",children:i.email}),e.jsxs("div",{className:"flex items-center mt-2 space-x-2",children:[e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${d?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:[d?e.jsx(A,{size:14,className:"mr-1"}):e.jsx(C,{size:14,className:"mr-1"}),d?"Verified Profile":"Complete Your Profile"]}),e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-primary/20 text-white",children:[e.jsx(k,{size:14,className:"mr-1"}),b," Credits"]})]})]})]})}),e.jsx("div",{className:"p-6",children:e.jsxs("form",{onSubmit:N,className:"space-y-6",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-700 dark:text-gray-300",children:[e.jsx(f,{size:16,className:"mr-2 text-primary"}),"Full Name"]}),e.jsx("input",{type:"text",name:"name",value:i.name,onChange:u,className:"w-full px-4 py-3 border rounded-lg bg-gray-50 dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-primary/50 focus:border-primary outline-none transition-all duration-300",placeholder:"Enter your full name",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-700 dark:text-gray-300",children:[e.jsx(z,{size:16,className:"mr-2 text-primary"}),"Email Address"]}),e.jsx("input",{type:"email",name:"email",value:i.email,onChange:u,className:"w-full px-4 py-3 border rounded-lg bg-gray-50 dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-primary/50 focus:border-primary outline-none transition-all duration-300",placeholder:"Enter your email",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-700 dark:text-gray-300",children:[e.jsx(S,{size:16,className:"mr-2 text-primary"}),"Bio"]}),e.jsx("textarea",{name:"bio",rows:4,value:i.bio,onChange:u,className:"w-full px-4 py-3 border rounded-lg bg-gray-50 dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-primary/50 focus:border-primary outline-none transition-all duration-300 resize-none",placeholder:"Tell us about yourself"})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"submit",className:"bg-primary hover:bg-primary/90 text-white px-6 py-3 rounded-lg transition-all duration-300 transform hover:translate-y-[-2px] hover:shadow-lg disabled:opacity-70 disabled:cursor-not-allowed",disabled:p,children:p?"Saving...":"Save Changes"})})]})})]})})};export{U as default};
